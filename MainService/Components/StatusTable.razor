@using MainService.Components.Base
@using MainService.Models

<div class="status">
    <h3 class="status-padding">Source: @Status.Name</h3>
    <table class="table">
        <tr class="t-head">
            <th>Worker name</th>
            <th>Group name</th>
            <th>Settings Id</th>
            <th>Task Id</th>
            <th>Actions</th>
        </tr>
        @foreach (var row in Status.Works)
        {
            <tr class="t-row">
                <td>@row.WorkerName</td>
                <td>@row.Group</td>
                <td>@row.SettingsId</td>
                <td>@row.TaskId</td>
                <td>
                    <div>
                        <Button ButtonType="ButtonType.Icon" Action="async () => await OnStop.InvokeAsync(row.TaskId)"><StopIcon /></Button>
                        <Button ButtonType="ButtonType.Icon" Action="async () => await OnStart.InvokeAsync(row.TaskId)"><StartIcon /></Button>
                    </div>
                </td>
            </tr>
        }
    </table>
</div>

@code {


    [Parameter]
    public StatusModel Status { get; set; }

    [Parameter]
    public EventCallback<int> OnStop { get; set; }

    [Parameter]
    public EventCallback OnStart { get; set; }
}
